from z3 import *
import numpy as np
import matplotlib.pyplot as plt
s = Solver()
x3 = Int('x3')
x4 = Int('x4')
x5 = Int('x5')
x6 = Int('x6')
x9 = Int('x9')
x10 = Int('x10')
x13 = Int('x13')
x18 = Int('x18')
x19 = Int('x19')
x20 = Int('x20')
x21 = Int('x21')
x22 = Int('x22')
x26 = Int('x26')
x27 = Int('x27')
x28 = Int('x28')
x29 = Int('x29')
x33 = Int('x33')
x34 = Int('x34')
x36 = Int('x36')
x37 = Int('x37')
x38 = Int('x38')
x41 = Int('x41')
x42 = Int('x42')
x43 = Int('x43')
x45 = Int('x45')
x46 = Int('x46')
x47 = Int('x47')
x51 = Int('x51')
x52 = Int('x52')
x54 = Int('x54')
x58 = Int('x58')
x60 = Int('x60')
x62 = Int('x62')
wl_0=Real('wl_0')
wl_1=Real('wl_1')
wl_2=Real('wl_2')
wl_3=Real('wl_3')
wl_4=Real('wl_4')
wl_5=Real('wl_5')
wl_6=Real('wl_6')
wl_7=Real('wl_7')
wl_8=Real('wl_8')
wl_9=Real('wl_9')
and_0_0 = And((x36 > 0.5),(x36 > 3.5),(wl_0 == -0.9989499691167391))
and_0_1 = And((x36 > 0.5),(x36 <= 3.5),(x52 > 14.5),(wl_0 == 1.2421400365047088))
and_0_2 = And((x36 > 0.5),(x36 <= 3.5),(x52 <= 14.5),(wl_0 == -0.998949969116739))
and_0_3 = And((x36 <= 0.5),(x28 > 2.5),(x42 > 13.5),(wl_0 == 5.05199304606117))
and_0_4 = And((x36 <= 0.5),(x28 > 2.5),(x42 <= 13.5),(wl_0 == -0.9989499691167388))
and_0_5 = And((x36 <= 0.5),(x28 <= 2.5),(x21 > 0.5),(wl_0 == 8.96868871867633))
and_0_6 = And((x36 <= 0.5),(x28 <= 2.5),(x21 <= 0.5),(wl_0 == -0.3686434050357067))
and_1_0 = And((x19 > 15.5),(x46 > 0.5),(x5 > 12.0),(wl_1 == 4.491735787432383))
and_1_1 = And((x19 > 15.5),(x46 > 0.5),(x5 <= 12.0),(wl_1 == -1.001424148606811))
and_1_2 = And((x19 > 15.5),(x46 <= 0.5),(x27 > 15.5),(wl_1 == 7.671986276718233))
and_1_3 = And((x19 > 15.5),(x46 <= 0.5),(x27 <= 15.5),(wl_1 == 2.374859519397766))
and_1_4 = And((x19 <= 15.5),(x10 > 0.5),(x3 > 1.5),(wl_1 == -0.926102426492146))
and_1_5 = And((x19 <= 15.5),(x10 > 0.5),(x3 <= 1.5),(wl_1 == 3.492979435425257))
and_1_6 = And((x19 <= 15.5),(x10 <= 0.5),(x20 > 14.5),(wl_1 == 7.856296248256389))
and_1_7 = And((x19 <= 15.5),(x10 <= 0.5),(x20 <= 14.5),(wl_1 == -0.29516072825891493))
and_2_0 = And((x62 > 2.5),(x45 > 1.5),(x52 > 14.5),(wl_2 == 5.48846440677966))
and_2_1 = And((x62 > 2.5),(x45 > 1.5),(x52 <= 14.5),(wl_2 == -0.7808307267040087))
and_2_2 = And((x62 > 2.5),(x45 <= 1.5),(x46 > 7.0),(wl_2 == -0.9983333333333335))
and_2_3 = And((x62 > 2.5),(x45 <= 1.5),(x46 <= 7.0),(wl_2 == 8.386501360117178))
and_2_4 = And((x62 <= 2.5),(x37 > 2.5),(x45 > 0.5),(wl_2 == -0.9983333333333338))
and_2_5 = And((x62 <= 2.5),(x37 > 2.5),(x45 <= 0.5),(wl_2 == -0.532327748555101))
and_2_6 = And((x62 <= 2.5),(x37 <= 2.5),(x54 > 1.5),(wl_2 == 5.90251532636134))
and_2_7 = And((x62 <= 2.5),(x37 <= 2.5),(x54 <= 1.5),(wl_2 == -0.8294063088512247))
and_3_0 = And((x26 > 0.5),(x26 > 5.5),(x18 > 2.5),(wl_3 == -0.9318233819922918))
and_3_1 = And((x26 > 0.5),(x26 > 5.5),(x18 <= 2.5),(wl_3 == -0.1338314160449969))
and_3_2 = And((x26 > 0.5),(x26 <= 5.5),(x46 > 4.5),(wl_3 == 3.496126602996613))
and_3_3 = And((x26 > 0.5),(x26 <= 5.5),(x46 <= 4.5),(wl_3 == -0.3025363494025216))
and_3_4 = And((x26 <= 0.5),(x43 > 2.5),(x46 > 10.0),(wl_3 == 8.837704918032784))
and_3_5 = And((x26 <= 0.5),(x43 > 2.5),(x46 <= 10.0),(wl_3 == -0.7471288187924171))
and_3_6 = And((x26 <= 0.5),(x43 <= 2.5),(x19 > 11.5),(wl_3 == -1.0020446096654279))
and_3_7 = And((x26 <= 0.5),(x43 <= 2.5),(x19 <= 11.5),(wl_3 == 8.273129125459935))
and_4_0 = And((x33 > 8.5),(x58 > 0.5),(x5 > 0.5),(wl_4 == -1.0008044554455446))
and_4_1 = And((x33 > 8.5),(x58 > 0.5),(x5 <= 0.5),(wl_4 == 7.072328446371916))
and_4_2 = And((x33 > 8.5),(x58 <= 0.5),(wl_4 == 8.935359116022104))
and_4_3 = And((x33 <= 8.5),(x41 > 8.5),(x26 > 3.5),(wl_4 == 8.935359116022099))
and_4_4 = And((x33 <= 8.5),(x41 > 8.5),(x26 <= 3.5),(wl_4 == 0.2412159909879109))
and_4_5 = And((x33 <= 8.5),(x41 <= 8.5),(x22 > 14.5),(wl_4 == 6.012958065590441))
and_4_6 = And((x33 <= 8.5),(x41 <= 8.5),(x22 <= 14.5),(wl_4 == -0.6895364320150473))
and_5_0 = And((x21 > 1.5),(x58 > 6.5),(x26 > 15.5),(wl_5 == 2.0884783154152355))
and_5_1 = And((x21 > 1.5),(x58 > 6.5),(x26 <= 15.5),(wl_5 == -0.8216480052455282))
and_5_2 = And((x21 > 1.5),(x58 <= 6.5),(wl_5 == -1.0014241486068107))
and_5_3 = And((x21 <= 1.5),(x5 > 6.5),(x42 > 13.5),(wl_5 == -0.4810195230873087))
and_5_4 = And((x21 <= 1.5),(x5 > 6.5),(x42 <= 13.5),(wl_5 == 8.495960267124113))
and_5_5 = And((x21 <= 1.5),(x5 <= 6.5),(x13 > 6.5),(wl_5 == 7.473736895567945))
and_5_6 = And((x21 <= 1.5),(x5 <= 6.5),(x13 <= 6.5),(wl_5 == -0.6888822901769948))
and_6_0 = And((x21 > 0.5),(x4 > 3.5),(x46 > 14.5),(wl_6 == -0.09751685803939517))
and_6_1 = And((x21 > 0.5),(x4 > 3.5),(x46 <= 14.5),(wl_6 == -0.9849825389304689))
and_6_2 = And((x21 > 0.5),(x4 <= 3.5),(x34 > 15.5),(wl_6 == 2.311250068377004))
and_6_3 = And((x21 > 0.5),(x4 <= 3.5),(x34 <= 15.5),(wl_6 == -1.0008044554455444))
and_6_4 = And((x21 <= 0.5),(x42 > 9.5),(x54 > 1.5),(wl_6 == 8.364315232604419))
and_6_5 = And((x21 <= 0.5),(x42 > 9.5),(x54 <= 1.5),(wl_6 == 0.2637981809230649))
and_6_6 = And((x21 <= 0.5),(x42 <= 9.5),(x47 > 0.5),(wl_6 == 8.935359116022099))
and_6_7 = And((x21 <= 0.5),(x42 <= 9.5),(x47 <= 0.5),(wl_6 == -0.8848181102533155))
and_7_0 = And((x60 > 2.5),(x6 > 14.5),(x20 > 6.5),(wl_7 == -0.999567367119901))
and_7_1 = And((x60 > 2.5),(x6 > 14.5),(x20 <= 6.5),(wl_7 == 7.7808501684954905))
and_7_2 = And((x60 > 2.5),(x6 <= 14.5),(x60 > 7.5),(wl_7 == -0.9445823649399218))
and_7_3 = And((x60 > 2.5),(x6 <= 14.5),(x60 <= 7.5),(wl_7 == 1.191120307762007))
and_7_4 = And((x60 <= 2.5),(x26 > 12.5),(x18 > 6.0),(wl_7 == -0.4849641415893289))
and_7_5 = And((x60 <= 2.5),(x26 > 12.5),(x18 <= 6.0),(wl_7 == 9.03519553072626))
and_7_6 = And((x60 <= 2.5),(x26 <= 12.5),(x37 > 0.5),(wl_7 == 8.706186911124748))
and_7_7 = And((x60 <= 2.5),(x26 <= 12.5),(x37 <= 0.5),(wl_7 == 1.0073852124493305))
and_8_0 = And((x38 > 0.5),(x27 > 12.5),(x43 > 7.5),(wl_8 == 0.3266811596842194))
and_8_1 = And((x38 > 0.5),(x27 > 12.5),(x43 <= 7.5),(wl_8 == -0.9329613458828194))
and_8_2 = And((x38 > 0.5),(x27 <= 12.5),(x9 > 7.5),(wl_8 == -0.6534441328319205))
and_8_3 = And((x38 > 0.5),(x27 <= 12.5),(x9 <= 7.5),(wl_8 == -0.9964879852125696))
and_8_4 = And((x38 <= 0.5),(x42 > 7.5),(x21 > 4.5),(wl_8 == 5.295358975513079))
and_8_5 = And((x38 <= 0.5),(x42 > 7.5),(x21 <= 4.5),(wl_8 == -0.8356861794091403))
and_8_6 = And((x38 <= 0.5),(x42 <= 7.5),(x45 > 11.5),(wl_8 == 0.5129049652622862))
and_8_7 = And((x38 <= 0.5),(x42 <= 7.5),(x45 <= 11.5),(wl_8 == -0.7121974998142416))
and_9_0 = And((x29 > 13.5),(x43 > 2.5),(x46 > 8.5),(wl_9 == 3.2791796978531664))
and_9_1 = And((x29 > 13.5),(x43 > 2.5),(x46 <= 8.5),(wl_9 == -0.8126703075596439))
and_9_2 = And((x29 > 13.5),(x43 <= 2.5),(x33 > 3.5),(wl_9 == -0.7374174885265112))
and_9_3 = And((x29 > 13.5),(x43 <= 2.5),(x33 <= 3.5),(wl_9 == 6.621642478400721))
and_9_4 = And((x29 <= 13.5),(x21 > 15.5),(x42 > 0.5),(wl_9 == -0.6780827697647974))
and_9_5 = And((x29 <= 13.5),(x21 > 15.5),(x42 <= 0.5),(wl_9 == 4.304444283395176))
and_9_6 = And((x29 <= 13.5),(x21 <= 15.5),(x51 > 0.5),(wl_9 == -0.8688015086417343))
and_9_7 = And((x29 <= 13.5),(x21 <= 15.5),(x51 <= 0.5),(wl_9 == 0.33117254174397015))
or_0 = Or(and_0_0,and_0_1,and_0_2,and_0_3,and_0_4,and_0_5,and_0_6)
or_1 = Or(and_1_0,and_1_1,and_1_2,and_1_3,and_1_4,and_1_5,and_1_6,and_1_7)
or_2 = Or(and_2_0,and_2_1,and_2_2,and_2_3,and_2_4,and_2_5,and_2_6,and_2_7)
or_3 = Or(and_3_0,and_3_1,and_3_2,and_3_3,and_3_4,and_3_5,and_3_6,and_3_7)
or_4 = Or(and_4_0,and_4_1,and_4_2,and_4_3,and_4_4,and_4_5,and_4_6)
or_5 = Or(and_5_0,and_5_1,and_5_2,and_5_3,and_5_4,and_5_5,and_5_6)
or_6 = Or(and_6_0,and_6_1,and_6_2,and_6_3,and_6_4,and_6_5,and_6_6,and_6_7)
or_7 = Or(and_7_0,and_7_1,and_7_2,and_7_3,and_7_4,and_7_5,and_7_6,and_7_7)
or_8 = Or(and_8_0,and_8_1,and_8_2,and_8_3,and_8_4,and_8_5,and_8_6,and_8_7)
or_9 = Or(and_9_0,and_9_1,and_9_2,and_9_3,and_9_4,and_9_5,and_9_6,and_9_7)
pertudations=And((x3-15.0)<=3,(x4-14.0)<=3,(x5-2.0)<=3,(x6-0.0)<=3,(x9-0.0)<=3,(x10-9.0)<=3,(x13-8.0)<=3,(x18-0.0)<=3,(x19-0.0)<=3,(x20-6.0)<=3,(x21-10.0)<=3,(x22-0.0)<=3,(x26-0.0)<=3,(x27-10.0)<=3,(x28-15.0)<=3,(x29-2.0)<=3,(x33-0.0)<=3,(x34-2.0)<=3,(x36-11.0)<=3,(x37-15.0)<=3,(x38-2.0)<=3,(x41-3.0)<=3,(x42-1.0)<=3,(x43-0.0)<=3,(x45-14.0)<=3,(x46-4.0)<=3,(x47-0.0)<=3,(x51-7.0)<=3,(x52-2.0)<=3,(x54-4.0)<=3,(x58-7.0)<=3,(x60-16.0)<=3,(x62-0.0)<=3)
robust=And(or_0,or_1,or_2,or_3,or_4,or_5,or_6,or_7,or_8,or_9)
out = Real('out')
WL = [Real('wl_%s' % i) for i in range(10)]
for i in WL:
    out = If(i > out, i, out)
s.add(out!=8.273129125459935)
s.add(pertudations)
s.add(robust)
print(s.check())
print(s.model())

